<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.3.3 (459822)"/><meta name="author" content="刘六六丶"/><meta name="created" content="2020-07-09 14:32:04 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-07-09 15:24:50 +0000"/><title>代码优化</title></head><body><div>如何精准的测试js性能</div><div><br/></div><div><span>    本质上采集大量的执行样本进行数学统计和分析</span><br/></div><div><span><br/></span></div><div><span><span>    jsperf使用流程</span><br/></span></div><div><span><span><span>    <span>    使用github账号登陆</span></span><br/></span></span></div><div><span><span><span><span><span>    <span>    填写个人信息</span></span><br/></span></span></span></span></div><div><span><span><span><span><span><span><span>    <span>    填写详细的测试用例信息（title，slug）</span></span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    填写准备代码（dom操作时经常使用）</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    填写必要的setup与teardown代码</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    填写测试代码片段</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><ol><li><div>慎用全局变量</div></li></ol><div><span>    <span>    <span>    <span>    原因：消耗查找时间，一直存活于全局上下文执行栈，此时的回收只能是在程序退出时才会被gc，也有可能造成变量污染</span></span></span></span><br/></div><div><span><span><span><span><br/></span></span></span></span></div><div><span><span><span><span><span>    <span>  </span></span>2.   缓存全局变量</span></span></span></span></div><div><span><span><span><span><br/></span></span></span></span></div><div><span><span><span><span><span>    <span>  3.   通过原型对象添加附加方法</span></span></span></span></span></span></div><div><span><span><span><span><span><span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span>      4.   避开闭包的陷阱 （将产生闭包的变量置为null）</span></span></span></span></span></span></div><div><span><span><span><span><span><span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span>    <span>  5.   避免属性访问方法使用</span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    <span>    </span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span/></span><span>    <span>    <span>    Js面向对象</span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    <span>    Js不需要属性的访问方法，所有属性都是外部可见的</span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    <span>    使用属性访问方法只会增加一层重定义，没有访问的控制力</span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>  </span></span>6.   For循环的优化操作</span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    <span>    </span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span/></span><span>    <span>  7.   节点添加优化 节点添加必然会回流和重绘</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>  8.   克隆优化节点操作  </span></span>  </span></span> </span></span><br/></span></span></span></span></span></span></div><div><br/></div></body></html>